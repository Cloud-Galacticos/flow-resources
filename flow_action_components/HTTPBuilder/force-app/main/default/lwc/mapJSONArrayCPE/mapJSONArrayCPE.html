<template>
    <template if:true={isError}>
        <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme--error" role="alert">
            <h2> {errorMessage} </h2>
        </div>
    </template>
    <div><b>{labels.Map_JSON_Array}</b></div>
    
    
    <lightning-layout vertical-align="end">
        <lightning-layout-item size="5" >
            <c-fsc_flow-combobox 
                label={labels.Input_JSON_String} 
                builder-context={_builderContext} 
                name="inputJSONString"  
                onvaluechanged={handleFlowComboboxValueChange} 
                value={inputJSONString} 
                value-type={inputJSONStringType} 
                automatic-output-variables={automaticOutputVariables}>
                
            </c-fsc_flow-combobox>
        </lightning-layout-item>
        <lightning-layout-item size="1" padding="horizontal-small">
            <lightning-icon icon-name="utility:forward" alternative-text="to object" title="toobject" ></lightning-icon>
        </lightning-layout-item>
        <lightning-layout-item size="5">
            <c-fsc_pick-object-and-field 
                object-label={labels.Target_Object_Type} 
                object-type={sObjectType} 
                onfieldselected={changeSObjectType} 
                hide-field-picklist="true">
            </c-fsc_pick-object-and-field>
        </lightning-layout-item>
    </lightning-layout>
    <template if:true={isSObjectSelected}>
        <c-field-mapping-section 
            master-label={labels.Specify_the_keys_that_you_want_to_extract_from_the_objects_in_the_array} 
            add-button-label={labels.Add_Target_Key} 
            list-data={keysToExtract} 
            onchangelist={changekeysToExtract}
            sobject-type={sObjectType}
            builder-context={builderContext}
            automatic-output-variables={automaticOutputVariables}>
        </c-field-mapping-section>
    </template>
</template>